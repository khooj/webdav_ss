version: '3'
services:
  minio:
    image: minio/minio
    command: server /data --console-address ":9001"
    environment:
      - MINIO_DOMAIN=localhost
    ports:
      - 9000:9000
      - 9001:9001
    volumes:
      - miniodata:/data

  zenko:
    image: zenko/cloudserver
    ports:
      - 8000:8000

  nginx:
    image: nginx:1.21
    ports:
      - 8080:8080
      - 8081:8081
    volumes:
      - ./nginx.conf:/etc/nginx/conf.d/nginx.conf:ro
      - ./ssc/san_server.crt:/etc/san_server.crt:ro
      - ./ssc/san-private-key.key:/etc/san-private-key.key:ro

volumes:
  miniodata: